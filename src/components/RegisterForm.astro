---
import { Icons } from './Icons'
import { buttonVariants } from './Button.astro'
import { cn } from '@/lib/utils'
---

<div class='flex min-h-full flex-col justify-center py-12 sm:px-6 lg:px-8'>
  <div class='sm:mx-auto sm:w-full sm:max-w-md'>
    <Icons.Logo className='mx-auto h-10 w-auto' />
    <h2 class='mt-6 text-center text-2xl font-bold leading-9 tracking-tight'>Sign up for an account</h2>
  </div>

  <div class='mt-10 sm:mx-auto sm:w-full sm:max-w-[480px]'>
    <div class='px-6 py-12 shadow sm:rounded-lg sm:px-12'>
      <form class='space-y-6' action='/api/auth/login' method='POST'>
        <div>
          <label for='email' class='block text-sm font-medium leading-6'>Email address</label>
          <div class='mt-2'>
            <input
              id='email'
              name='email'
              type='email'
              autocomplete='email'
              placeholder='johndoe@gmail.com'
              class='block bg-background w-full rounded-md border-0 py-1.5 shadow-sm ring-1 ring-inset ring-border placeholder:text-muted-foreground focus:ring-2 focus:ring-inset focus:ring-primary sm:text-sm sm:leading-6'
            />
          </div>
        </div>

        <div>
          <label for='password' class='block text-sm font-medium leading-6'>Password</label>
          <div class='mt-2'>
            <input
              id='password'
              name='password'
              type='password'
              placeholder='••••••••'
              autocomplete='current-password'
              class='block bg-background w-full rounded-md border-0 py-1.5 shadow-sm ring-1 ring-inset ring-border placeholder:text-muted-foreground focus:ring-2 focus:ring-inset focus:ring-primary sm:text-sm sm:leading-6'
            />
          </div>
        </div>

        <div class='flex items-center justify-between'>
          <div class='flex items-center'>
            <input
              id='remember-me'
              name='remember-me'
              type='checkbox'
              class='h-4 w-4 rounded border-border text-primary focus:ring-primary'
            />
            <label for='remember-me' class='ml-3 block text-sm leading-6'>Remember me</label>
          </div>

          <div class='text-sm leading-6'>
            <a href='#' class='font-semibold text-primary hover:text-primary/90'>Forgot password?</a>
          </div>
        </div>

        <div>
          <button type='submit' class={cn(buttonVariants({ variant: 'default' }), 'w-full')}>Sign up</button>
        </div>
      </form>

      <div>
        <div class='relative mt-10'>
          <div class='absolute inset-0 flex items-center' aria-hidden='true'>
            <div class='w-full border-t border-border'></div>
          </div>
          <div class='relative flex justify-center text-sm font-medium leading-6'>
            <span class='bg-background px-6'>Or continue with</span>
          </div>
        </div>

        <div class='mt-6 grid grid-cols-2 gap-4'>
          <button
            value='github'
            name='provider'
            type='submit'
            formaction='/api/auth/login'
            class={cn(buttonVariants({ variant: 'secondary' }), 'w-full flex justify-center')}
          >
            <Icons.Google className='fill-foreground h-5 w-5' />
          </button>

          <form action='/api/auth/register' method='get'>
            <button
              value='github'
              name='provider'
              type='submit'
              formaction='/api/auth/login'
              class={cn(buttonVariants({ variant: 'secondary' }), 'w-full flex justify-center')}
            >
              <Icons.GitHub className='h-5 w-5 text-foreground' />
            </button>
          </form>
        </div>
      </div>

      <p class='mt-10 text-center text-sm text-muted-foreground'>
        Already a member?
        <a href='/login' class='font-semibold leading-6 text-primary hover:text-primary/90'>Sign in here!</a>
      </p>
    </div>
  </div>
</div>
